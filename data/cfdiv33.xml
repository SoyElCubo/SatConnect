<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="cfdiv33">
            <cfdi:Comprobante
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                    xmlns:cfdi="http://www.sat.gob.mx/cfd/3"
                    xmlns:nomina12="http://www.sat.gob.mx/nomina12"
                    xsi:schemaLocation="http://www.sat.gob.mx/cfd/3 http://www.sat.gob.mx/sitio_internet/cfd/3/cfdv33.xsd http://www.sat.gob.mx/nomina12 http://www.sat.gob.mx/sitio_internet/cfd/nomina/nomina12.xsd "
                    a-att-Version = "factura['cfdi']"
                    a-att-Descuento="factura['descuento']"
                    a-att-Fecha="factura['fecha_factura']"
                    a-att-Folio="factura['folio']"
                    a-att-FormaPago="factura['forma_pago']"
                    a-att-LugarExpedicion="factura['LugarExpedicion']"
                    a-att-MetodoPago="factura[metodo_pago]"
                    a-att-Moneda="factura['moneda']"
                    a-att-SubTotal="factura['subtotal']"
                    a-att-TipoCambio="factura['tipodecambio']"
                    a-att-TipoDeComprobante="factura ['tipocomprobante']"
                    a-att-Total="factura['total']"
                    a-att-Certificado="certificate"
                    a-att-NoCertificado="certificate_number"
                    a-att-Sello="">
              <cfdi:Emisor
                      a-att-Rfc="emisor['rfc']"
                      a-att-Nombre="emisor['nombre_fiscal']"
                      a-att-RegimenFiscal="emisor['RegimenFiscal']"/>
              <cfdi:Receptor
                      a-att-Rfc="receptor['rfc']"
                      a-att-Nombre="receptor['nombre']"
                      a-att-UsoCFDI="receptor['uso_cfdi']"/>
              <cfdi:Conceptos>
                <cfdi:Concepto
                        a-att-Cantidad="conceptos['cantidad']"
                        a-att-Descripcion="conceptos['descripcion']"
                        a-att-ValorUnitario="conceptos['valorunitario']"
                        a-att-Importe="conceptos['importe']"
                        a-att-ClaveUnidad="conceptos['ClaveUnidad']"
                        a-att-ClaveProdServ="conseptos['ClaveProdServ']"
                        a-att-Descuento="conceptos['descuento']"/>
              </cfdi:Conceptos>
              <cfdi:Complemento>
                <nomina12:Nomina
                        Version="1.2"
                        a-att-TipoNomina="nomina12[̈́'TipoNomina']"
                        a-att-FechaPago="nomina12['FechaPago']"
                        a-att-FechaInicialPago="nomina12['FechaInicialPago']"
                        a-att-FechaFinalPago="nomina12['FechaFinalPago']"
                        a-att-NumDiasPagados="nomina12['NumDiasPagados']"
                        a-att-TotalPercepciones="nomina12['TotalPercepciones']"
                        a-att-TotalDeducciones="nomina12['TotalDeducciones']"
                        a-att-TotalOtrosPagos="nomina12['TotalOtrosPagos']">
                  <nomina12:Emisor
                          a-att-RegistroPatronal="nomina12Emisor['RegistroPatronal']"
                          a-att-RfcPatronOrigen="nomina12Emisor['RfcPatronOrigen']"/>
                  <nomina12:Receptor
                          a-att-NumSeguridadSocial="nomina12Receptor['NumSeguridadSocial']"
                          a-att-FechaInicioRelLaboral="nomina12Receptor['FechaInicioRelLaboral']"
                          a-att-Antigüedad="nomina12Receptor['Antiguedad']"
                          a-att-RiesgoPuesto="nomina12Receptor['RiesgoPuesto']"
                          a-att-SalarioBaseCotApor="nomina12Receptor['SalarioBaseCotApor']"
                          a-att-SalarioDiarioIntegrado="nomina12Receptor['SalarioDiarioIntegrado']"
                          a-att-ClaveEntFed="nomina12Receptor['ClaveEntFed']"
                          a-att-Curp="nomina12Receptor['curp']"
                          a-att-NumEmpleado="nomina12Receptor['NumEmpleado']"
                          a-att-PeriodicidadPago="nomina12Receptor['PeriodicidadPago']"
                          a-att-TipoContrato="nomina12Receptor['TipoContrato']"
                          a-att-TipoRegimen="nomina12Receptor['TipoRegimen']"
                          a-att-TipoJornada="nomina12Receptor['TipoJornada']"
                          a-att-Puesto="nomina12Receptor['Puesto']"/>
                  <nomina12:Percepciones
                            a-att-TotalGravado="percepciones[Totalpercepcion['TotalGravado']]"
                            a-att-TotalExento="percepciones[Totalpercepcion['TotalExento']]"
                            a-att-TotalSueldos="percepciones[Totalpercepcion['TotalSueldos']]">
                        <nomina12:Percepcion
                                a-att-TipoPercepcion="percepciones[lineas_de_percepcion_grabadas['TipoPercepcion']]"
                                a-att-Clave="percepciones[lineas_de_percepcion_grabadas['Clave']]"
                                a-att-Concepto="percepciones[lineas_de_percepcion_grabadas['Concepto']]"
                                a-att-ImporteGravado="percepciones[lineas_de_percepcion_grabadas['ImporteGravado']]"
                                a-att-ImporteExento="percepciones[lineas_de_percepcion_grabadas['ImporteExcento']]"/>
                      </nomina12:Percepciones>
                  <nomina12:Deducciones
                            a-att-TotalOtrasDeducciones="deducciones[TotalDeduccion['TotalOtrasDeducciones']]"
                            a-att-TotalImpuestosRetenidos="deducciones[TotalDeduccion['TotalImpuestosRetenidos']]">
                    <nomina12:Deduccion
                            IMSS = "DEDUCCION DEL IMSS"
                            a-att-TipoDeduccion="deducciones[lineas_de_deduccion['TipoDeduccion']]"
                            a-att-Clave="deducciones[deduccion[lineas_deduccion['Clave']]]"
                            a-att-Concepto="deducciones[deduccion[lineas_deduccion['Concepto']]]"
                            a-att-Importe="deducciones[deduccion[lineas_deduccion['Importe']]]"/>
                    <nomina12:Deduccion
                            ISR = "DEDUCCION ISR"
                            a-att-TipoDeduccion="deducciones[lineas_de_deduccion['TipoDeduccion']]"
                            a-att-Clave="deducciones[deduccion[lineas_deduccion['Clave']]]"
                            a-att-Concepto="deducciones[deduccion[lineas_deduccion['Concepto']]]"
                            a-att-Importe="deducciones[deduccion[lineas_deduccion['Importe']]]"/>
                  </nomina12:Deducciones>
                  <nomina12:OtrosPagos>
                    <nomina12:OtroPago
                            a-att-TipoOtroPago="otros_pagos[otrospagos[lineas_de_otros['TipoOtrosPagos']]]"
                            a-att-Clave="otros_pagos[otrospagos[lineas_de_otros['Clave']]]"
                            a-att-Importe="0"
                            a-att-Concepto="otros_pagos[otrospagos[lineas_de_otros['Concepto']]]">
                      <nomina12:SubsidioAlEmpleo
                            a-att-SubsidioCausado="otros_pagos[otrospagos[lineas_de_otros['SubsidioCausado']]]"/>
                    </nomina12:OtroPago>
                  </nomina12:OtrosPagos>
                </nomina12:Nomina>
                <tfd:TimbreFiscalDigital
                        xmlns:tfd="http://www.sat.gob.mx/TimbreFiscalDigital"
                        xsi:schemaLocation="http://www.sat.gob.mx/TimbreFiscalDigital http://www.sat.gob.mx/sitio_internet/cfd/TimbreFiscalDigital/TimbreFiscalDigitalv11.xsd"
                        Version="1.1"
                        a-att-UUID=""
                        a-att-FechaTimbrado=""
                        a-att-RfcProvCertif=""
                        a-att-SelloCFD=""
                        a-att-NoCertificadoSAT=""
                        a-att-SelloSAT=""/>
              </cfdi:Complemento>
            </cfdi:Comprobante>
        </template>
    </data>
</odoo>